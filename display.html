<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <table id="display"></table>


    <script>

        function fetchDataFromAPI(){
            fetch("https://65276687917d673fd76da4d6.mockapi.io/product"
        ).then(y=>y.json())
        .then(y=>{
            displayInfo(y);
        })


        }
        fetchDataFromAPI();


        
      
        function displayInfo (data){
            let p = data.map((v)=>{
                return`<tr><td>${v.name}</td><td>${v.productName}</td><td>${v.category}</td><td>${v.rating}</td><td><button onclick="deleteUser(${v.id})">Delete</button></tr>`
            });

            document.getElementById("display").innerHTML = p.join(" ");

        } 

        const deleteUser = (id) => {

            fetch(`https://65276687917d673fd76da4d6.mockapi.io/product/${id}`,
            {
                method: "DELETE"
            })
            .then(y=>y.json())
        .then(y=>{
            console.log(y);
            fetchDataFromAPI();

        })
    }
    </script>
    
</body>
</html>